<html>
<head>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <link rel="stylesheet" href="watchboard.css" type="text/css">
    <script type="text/javascript" src="watchboard.js"></script>
</head>
<body>

<script type="text/javascript">
    $(document).ready(function(){
        // Initial rendering.
        $.ajax({
            url: 'api/v1/dashboards',
            success:function(data) {

                data.dashboards.sort(function(dash1, dash2) {
                    return dash1.id.localeCompare(dash2.id);
                });

                $("#dashboards").html("<ul>");
                for (var i = 0; i < data.dashboards.length; i++) {
                    dashboard = data.dashboards[i];
                    dashboardLink = dashboard.id;
                    if (dashboard.defaultNumberOfColumns) {
                        dashboardLink += "#columns=" + dashboard.defaultNumberOfColumns;
                    }

                    $("#dashboards").html($("#dashboards").html() +
                            "<li><a href=\""+ dashboardLink + "\">" + dashboard.title + "</a></li>");
                }
                $("#dashboards").html($("#dashboards").html() + "</ul>")
            },
            error:function(jqXHR, textStatus,errorThrown) {
                $("#dashboards").text("No dashboards found.");
            }
        });
    });
</script>

<div id="topBar">
     <span id="logo">
    <a href="https://github.com/bertjan/watchboard">Watchboard</a>
     </span>
    </a>
    <span id="titleContainer">
        <span id="title">Dashboards</span>
    </span>
</div>

<div id="dashboardSelection">
<h1>Dashboards</h1>
<div id="dashboards"></div>
</div>

</body>
</html>